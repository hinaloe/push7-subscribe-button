var p7sb;!function(t){var n=jQuery,a=function(){function a(){n(document.body).on("post-load",this.onLoadInfinityScroll),t.update=this.updateCount,this.updateCount()}return a.prototype.updateCount=function(){var t=n("a.share-push7");t.each(function(t,e){if(!e.dataset.loaded){e.dataset.loaded="loaded";var o=e.href;if(o&&"string"==typeof o&&-1!==o.indexOf("appid=")){var i=o.substr(o.indexOf("appid=")+6);if(-1!==i.indexOf("&")&&(i=i.substr(0,i.indexOf("&"))),!(i.length<=0)){var d="https://dashboard.push7.jp/api/v1/:app_id/head".replace(":app_id",i);n.ajax({url:d,dataType:"json"}).done(function(t){e.href="https://"+(t.alias?t.alias:t.domain),a.addCount(e,t.subscribers)})}}}})},a.addCount=function(t,n){var e=document.createElement("span");e.className="share-count",e.textContent=a.format_count(n),t.firstChild.appendChild(e)},a.prototype.onLoadInfinityScroll=function(t){this.updateCount()},a.format_count=function(t){return 1e3>t?t.toString():t>=1e3&&1e4>t?String(t).substring(0,1)+"K+":"10K+"},a}();jQuery(function(){return new a})}(p7sb||(p7sb={}));